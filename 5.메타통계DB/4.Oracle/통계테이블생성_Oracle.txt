CREATE TABLE CNCR_TBL_COL_DTRN_STATS
 (
    HOSP_CD VARCHAR2(20) NOT NULL ,
    TBL_ID  VARCHAR2(20) NOT NULL ,
    COL_ID  VARCHAR2(20) NOT NULL ,
    COL_SEQ NUMERIC(3,0)  NULL ,
    ROW_CNT NUMERIC(20,0) NULL ,
    NULL_NCS    NUMERIC(20,0) NULL ,
    PT_CNT  NUMERIC(20,0) NULL ,
    AVE_VL  NUMERIC(20,0) NULL ,
    MIN_VL  NUMERIC(20,0) NULL ,
    N1_QRTL_CNT NUMERIC(30,0) NULL ,
    N2_QRTL_CNT NUMERIC(30,0) NULL ,
    N3_QRTL_CNT NUMERIC(30,0) NULL ,
    N4_QRTL_CNT NUMERIC(30,0) NULL ,
    MODE_VL NUMERIC(20,0) NULL ,
    STATS_WORK_YMD  VARCHAR2(8)  NULL ,
    COLL_STRT_YMD   VARCHAR2(8)  NULL ,
    COLL_END_YMD    VARCHAR2(8)  NULL ,
    CRTN_DT DATE   NOT NULL
)
;

ALTER TABLE CNCR_TBL_COL_DTRN_STATS ADD CONSTRAINT CNCR_TBL_COL_DTRN_STATS_PK PRIMARY KEY (HOSP_CD, TBL_ID, COL_ID) ;


COMMENT ON TABLE CNCR_TBL_COL_DTRN_STATS IS '암_테이블_컬럼_기간_통계';


COMMENT ON COLUMN CNCR_TBL_COL_DTRN_STATS.HOSP_CD IS '병원코드';
COMMENT ON COLUMN CNCR_TBL_COL_DTRN_STATS.TBL_ID IS '테이블ID';
COMMENT ON COLUMN CNCR_TBL_COL_DTRN_STATS.COL_ID IS '컬럼ID';
COMMENT ON COLUMN CNCR_TBL_COL_DTRN_STATS.COL_SEQ IS '컬럼순번';
COMMENT ON COLUMN CNCR_TBL_COL_DTRN_STATS.ROW_CNT IS 'ROW수';
COMMENT ON COLUMN CNCR_TBL_COL_DTRN_STATS.NULL_NCS IS 'NULL건수';
COMMENT ON COLUMN CNCR_TBL_COL_DTRN_STATS.PT_CNT IS '환자수';
COMMENT ON COLUMN CNCR_TBL_COL_DTRN_STATS.AVE_VL IS '평균값';
COMMENT ON COLUMN CNCR_TBL_COL_DTRN_STATS.MIN_VL IS '최소값';
COMMENT ON COLUMN CNCR_TBL_COL_DTRN_STATS.N1_QRTL_CNT IS '1사분위수';
COMMENT ON COLUMN CNCR_TBL_COL_DTRN_STATS.N2_QRTL_CNT IS '2사분위수';
COMMENT ON COLUMN CNCR_TBL_COL_DTRN_STATS.N3_QRTL_CNT IS '3사분위수';
COMMENT ON COLUMN CNCR_TBL_COL_DTRN_STATS.N4_QRTL_CNT IS '4사분위수';
COMMENT ON COLUMN CNCR_TBL_COL_DTRN_STATS.MODE_VL IS '최빈값';
COMMENT ON COLUMN CNCR_TBL_COL_DTRN_STATS.STATS_WORK_YMD IS '통계작업일자';
COMMENT ON COLUMN CNCR_TBL_COL_DTRN_STATS.COLL_STRT_YMD IS '수집시작일자';
COMMENT ON COLUMN CNCR_TBL_COL_DTRN_STATS.COLL_END_YMD IS '수집종료일자';
COMMENT ON COLUMN CNCR_TBL_COL_DTRN_STATS.CRTN_DT IS '생성일시';




CREATE TABLE CNCR_TBL_CD_DTRN_STATS
 (
    HOSP_CD VARCHAR2(20) NOT NULL ,
    TBL_ID  VARCHAR2(20) NOT NULL ,
    COL_ID  VARCHAR2(20) NOT NULL ,
    CD_VL   VARCHAR2(200)    NOT NULL ,
    COL_SEQ NUMERIC(3,0)  NULL ,
    ROW_CNT NUMERIC(20,0) NULL ,
    PT_CNT  NUMERIC(20,0) NULL ,
    STATS_WORK_YMD  VARCHAR2(8)  NULL ,
    COLL_STRT_YMD   VARCHAR2(8)  NULL ,
    COLL_END_YMD    VARCHAR2(8)  NULL ,
    CRTN_DT DATE   NOT NULL
)
;

ALTER TABLE CNCR_TBL_CD_DTRN_STATS ADD CONSTRAINT CNCR_TBL_CD_DTRN_STATS_PK PRIMARY KEY (HOSP_CD, TBL_ID, COL_ID, CD_VL) ;


COMMENT ON TABLE CNCR_TBL_CD_DTRN_STATS IS '암_테이블_코드_기간_통계';


COMMENT ON COLUMN CNCR_TBL_CD_DTRN_STATS.HOSP_CD IS '병원코드';
COMMENT ON COLUMN CNCR_TBL_CD_DTRN_STATS.TBL_ID IS '테이블ID';
COMMENT ON COLUMN CNCR_TBL_CD_DTRN_STATS.COL_ID IS '컬럼ID';
COMMENT ON COLUMN CNCR_TBL_CD_DTRN_STATS.CD_VL IS '코드값';
COMMENT ON COLUMN CNCR_TBL_CD_DTRN_STATS.COL_SEQ IS '컬럼순번';
COMMENT ON COLUMN CNCR_TBL_CD_DTRN_STATS.ROW_CNT IS 'ROW수';
COMMENT ON COLUMN CNCR_TBL_CD_DTRN_STATS.PT_CNT IS '환자수';
COMMENT ON COLUMN CNCR_TBL_CD_DTRN_STATS.STATS_WORK_YMD IS '통계작업일자';
COMMENT ON COLUMN CNCR_TBL_CD_DTRN_STATS.COLL_STRT_YMD IS '수집시작일자';
COMMENT ON COLUMN CNCR_TBL_CD_DTRN_STATS.COLL_END_YMD IS '수집종료일자';
COMMENT ON COLUMN CNCR_TBL_CD_DTRN_STATS.CRTN_DT IS '생성일시';




CREATE TABLE CNCR_TBL_COL_YR_STATS
 (
    HOSP_CD VARCHAR2(20) NOT NULL ,
    TBL_ID  VARCHAR2(20) NOT NULL ,
    COL_ID  VARCHAR2(20) NOT NULL ,
    COL_SEQ NUMERIC(3,0)  NOT NULL ,
    CRIT_YR VARCHAR2(4)  NOT NULL ,
    ROW_CNT NUMERIC(20,0) NULL ,
    PT_CNT  NUMERIC(20,0) NULL ,
    STATS_WORK_YMD  VARCHAR2(8)  NULL ,
    COLL_STRT_YMD   VARCHAR2(8)  NULL ,
    COLL_END_YMD    VARCHAR2(8)  NULL ,
    CRTN_DT DATE   NOT NULL
)
;

ALTER TABLE CNCR_TBL_COL_YR_STATS ADD CONSTRAINT CNCR_TBL_COL_YR_STATS_PK PRIMARY KEY (HOSP_CD, TBL_ID, COL_ID, COL_SEQ, CRIT_YR) ;


COMMENT ON TABLE CNCR_TBL_COL_YR_STATS IS '암_테이블_컬럼_년도_통계';


COMMENT ON COLUMN CNCR_TBL_COL_YR_STATS.HOSP_CD IS '병원코드';
COMMENT ON COLUMN CNCR_TBL_COL_YR_STATS.TBL_ID IS '테이블ID';
COMMENT ON COLUMN CNCR_TBL_COL_YR_STATS.COL_ID IS '컬럼ID';
COMMENT ON COLUMN CNCR_TBL_COL_YR_STATS.COL_SEQ IS '컬럼순번';
COMMENT ON COLUMN CNCR_TBL_COL_YR_STATS.CRIT_YR IS '기준년도';
COMMENT ON COLUMN CNCR_TBL_COL_YR_STATS.ROW_CNT IS 'ROW수';
COMMENT ON COLUMN CNCR_TBL_COL_YR_STATS.PT_CNT IS '환자수';
COMMENT ON COLUMN CNCR_TBL_COL_YR_STATS.STATS_WORK_YMD IS '통계작업일자';
COMMENT ON COLUMN CNCR_TBL_COL_YR_STATS.COLL_STRT_YMD IS '수집시작일자';
COMMENT ON COLUMN CNCR_TBL_COL_YR_STATS.COLL_END_YMD IS '수집종료일자';
COMMENT ON COLUMN CNCR_TBL_COL_YR_STATS.CRTN_DT IS '생성일시';


--------------------------------------------------

CREATE TABLE CNCR_TBL_CD_YR_STATS
 (
    HOSP_CD VARCHAR2(20) NOT NULL ,
    TBL_ID  VARCHAR2(20) NOT NULL ,
    COL_ID  VARCHAR2(20) NOT NULL ,
    CD_VL   VARCHAR2(200)    NOT NULL ,
    COL_SEQ NUMERIC(3,0)  NOT NULL ,
    CRIT_YR VARCHAR2(4)  NOT NULL ,
    ROW_CNT NUMERIC(20,0) NULL ,
    PT_CNT  NUMERIC(20,0) NULL ,
    STATS_WORK_YMD  VARCHAR2(8)  NULL ,
    COLL_STRT_YMD   VARCHAR2(8)  NULL ,
    COLL_END_YMD    VARCHAR2(8)  NULL ,
    CRTN_DT DATE   NOT NULL
)
;

ALTER TABLE CNCR_TBL_CD_YR_STATS ADD CONSTRAINT CNCR_TBL_CD_YR_STATS_PK PRIMARY KEY (HOSP_CD, TBL_ID, COL_ID, CD_VL, COL_SEQ, CRIT_YR) ;


COMMENT ON TABLE CNCR_TBL_CD_YR_STATS IS '암_테이블_코드_년도_통계';


COMMENT ON COLUMN CNCR_TBL_CD_YR_STATS.HOSP_CD IS '병원코드';
COMMENT ON COLUMN CNCR_TBL_CD_YR_STATS.TBL_ID IS '테이블ID';
COMMENT ON COLUMN CNCR_TBL_CD_YR_STATS.COL_ID IS '컬럼ID';
COMMENT ON COLUMN CNCR_TBL_CD_YR_STATS.CD_VL IS '코드값';
COMMENT ON COLUMN CNCR_TBL_CD_YR_STATS.COL_SEQ IS '컬럼순번';
COMMENT ON COLUMN CNCR_TBL_CD_YR_STATS.CRIT_YR IS '기준년도';
COMMENT ON COLUMN CNCR_TBL_CD_YR_STATS.ROW_CNT IS 'ROW수';
COMMENT ON COLUMN CNCR_TBL_CD_YR_STATS.PT_CNT IS '환자수';
COMMENT ON COLUMN CNCR_TBL_CD_YR_STATS.STATS_WORK_YMD IS '통계작업일자';
COMMENT ON COLUMN CNCR_TBL_CD_YR_STATS.COLL_STRT_YMD IS '수집시작일자';
COMMENT ON COLUMN CNCR_TBL_CD_YR_STATS.COLL_END_YMD IS '수집종료일자';
COMMENT ON COLUMN CNCR_TBL_CD_YR_STATS.CRTN_DT IS '생성일시';

--------------------------------------------------
-- 암_테이블_통계

CREATE TABLE CANCER_TBL_STATS
   (HOSP_CD        VARCHAR2(20) NOT NULL,
    TBL_ID         VARCHAR2(20) NOT NULL,
    COL_CNT        NUMBER(5,0)  NULL,
    ROW_CNT        NUMBER(20,0) NULL,
    TBL_CAPA       NUMBER(20,0) NULL,
    STATS_WORK_YMD VARCHAR2(8)  NOT NULL,
    COLL_STRT_YMD  VARCHAR2(8)  NOT NULL,
    COLL_END_YMD   VARCHAR2(8)  NOT NULL,
    CRTN_DT DATE   NOT NULL  
   )
;

ALTER TABLE CANCER_TBL_STATS ADD CONSTRAINT CANCER_TBL_STATS_PK PRIMARY KEY (HOSP_CD, TBL_ID) ;


COMMENT ON TABLE CANCER_TBL_STATS IS '암_테이블_통계';

COMMENT ON COLUMN CANCER_TBL_STATS.HOSP_CD        IS '병원코드';
COMMENT ON COLUMN CANCER_TBL_STATS.TBL_ID         IS '테이블ID';
COMMENT ON COLUMN CANCER_TBL_STATS.COL_CNT        IS '컬럼수';
COMMENT ON COLUMN CANCER_TBL_STATS.ROW_CNT        IS 'ROW수';
COMMENT ON COLUMN CANCER_TBL_STATS.TBL_CAPA       IS '테이블용량';
COMMENT ON COLUMN CANCER_TBL_STATS.STATS_WORK_YMD IS '통계작업일자';
COMMENT ON COLUMN CANCER_TBL_STATS.COLL_STRT_YMD  IS '수집시작일자';
COMMENT ON COLUMN CANCER_TBL_STATS.COLL_END_YMD   IS '수집종료일자';
COMMENT ON COLUMN CANCER_TBL_STATS.CRTN_DT        IS '생성일시';

--------------------------------------------------
-- 암_테이블_메타

CREATE TABLE CNCR_TBL_META
   (TBL_ID             VARCHAR2(20)   NOT NULL,
    TBL_LCLS_CD        VARCHAR2(20)   NULL,
    TBL_MCLS_CD        VARCHAR2(20)   NULL,
    ENG_TBL_NM         VARCHAR2(200)  NULL,
    KOR_TBL_NM         VARCHAR2(1000) NULL,
    TBL_EXPL_CONT      VARCHAR2(4000) NULL,
    YR_CRIT_ENG_COL_NM VARCHAR2(200)  NULL,
    CRTN_DT DATE   NOT NULL   
   )
;

ALTER TABLE CNCR_TBL_META ADD CONSTRAINT CNCR_TBL_META_PK PRIMARY KEY (TBL_ID) ;


COMMENT ON TABLE CNCR_TBL_META IS '암_테이블_메타';

COMMENT ON COLUMN CNCR_TBL_META.TBL_ID             IS '테이블ID';
COMMENT ON COLUMN CNCR_TBL_META.TBL_LCLS_CD        IS '테이블대분류코드';
COMMENT ON COLUMN CNCR_TBL_META.TBL_MCLS_CD        IS '테이블중분류코드';
COMMENT ON COLUMN CNCR_TBL_META.ENG_TBL_NM         IS '영문테이블명';
COMMENT ON COLUMN CNCR_TBL_META.KOR_TBL_NM         IS '한글테이블명';
COMMENT ON COLUMN CNCR_TBL_META.TBL_EXPL_CONT      IS '테이블설명내용';
COMMENT ON COLUMN CNCR_TBL_META.YR_CRIT_ENG_COL_NM IS '년도기준영문컬럼명';
COMMENT ON COLUMN CNCR_TBL_META.CRTN_DT            IS '생성일시';

--------------------------------------------------
-- 암_테이블_컬럼_메타

CREATE TABLE CNCR_TBL_COL_META
   (TBL_ID VARCHAR2(20)          NOT NULL,
    COL_ID VARCHAR2(20)          NOT NULL,
    TBL_LCLS_CD VARCHAR2(20)     NULL,
    TBL_MCLS_CD VARCHAR2(20)     NULL,
    ENG_TBL_NM VARCHAR2(200)     NULL,
    KOR_TBL_NM VARCHAR2(1000)    NULL,
    ENG_COL_NM VARCHAR2(200)     NULL,
    KOR_COL_NM VARCHAR2(1000)    NULL,
    COL_SEQ NUMBER(3,0)          NULL,
    COL_PK_YN VARCHAR2(20)       NULL,
    DOMN_NM VARCHAR2(1000)       NULL,
    DATA_TP_CONT VARCHAR2(100)   NULL,
    DATA_LNTH_CONT VARCHAR2(100) NULL,
    COL_EXPL_CONT VARCHAR2(4000) NULL,
    CD_NM VARCHAR2(200)          NULL,
    CD_CLCD VARCHAR2(20)         NULL,
    HOSP_CD VARCHAR2(20)         NULL,
    OPEN_YN VARCHAR2(20)         NULL,
    CRTN_DT DATE   NOT NULL
   )
;

ALTER TABLE CNCR_TBL_COL_META ADD CONSTRAINT CNCR_TBL_COL_META_PK PRIMARY KEY (TBL_ID, COL_ID) ;


COMMENT ON TABLE CNCR_TBL_COL_META IS '암_테이블_컬럼_메타';

COMMENT ON COLUMN CNCR_TBL_COL_META.TBL_ID         IS '테이블ID';
COMMENT ON COLUMN CNCR_TBL_COL_META.COL_ID         IS '컬럼ID';
COMMENT ON COLUMN CNCR_TBL_COL_META.TBL_LCLS_CD    IS '테이블대분류코드';
COMMENT ON COLUMN CNCR_TBL_COL_META.TBL_MCLS_CD    IS '테이블중분류코드';
COMMENT ON COLUMN CNCR_TBL_COL_META.ENG_TBL_NM     IS '영문테이블명';
COMMENT ON COLUMN CNCR_TBL_COL_META.KOR_TBL_NM     IS '한글테이블명';
COMMENT ON COLUMN CNCR_TBL_COL_META.ENG_COL_NM     IS '영문컬럼명';
COMMENT ON COLUMN CNCR_TBL_COL_META.KOR_COL_NM     IS '한글컬럼명';
COMMENT ON COLUMN CNCR_TBL_COL_META.COL_SEQ        IS '컬럼순번';
COMMENT ON COLUMN CNCR_TBL_COL_META.COL_PK_YN      IS '컬럼PK여부';
COMMENT ON COLUMN CNCR_TBL_COL_META.DOMN_NM        IS '도메인명';
COMMENT ON COLUMN CNCR_TBL_COL_META.DATA_TP_CONT   IS '데이터타입내용';
COMMENT ON COLUMN CNCR_TBL_COL_META.DATA_LNTH_CONT IS '데이터길이내용';
COMMENT ON COLUMN CNCR_TBL_COL_META.COL_EXPL_CONT  IS '컬럼설명내용';
COMMENT ON COLUMN CNCR_TBL_COL_META.CD_NM          IS '코드명';
COMMENT ON COLUMN CNCR_TBL_COL_META.CD_CLCD        IS '코드분류코드';
COMMENT ON COLUMN CNCR_TBL_COL_META.HOSP_CD        IS '병원코드';
COMMENT ON COLUMN CNCR_TBL_COL_META.OPEN_YN        IS '공개여부';
COMMENT ON COLUMN CNCR_TBL_COL_META.CRTN_DT        IS '생성일시';

--------------------------------------------------
-- 암_코드_메타

CREATE TABLE CNCR_CODE_META
   (HOSP_CD VARCHAR2(20) NOT NULL,
    CD_CLCD VARCHAR2(20) NOT NULL,
    CD_ID VARCHAR2(20) NOT NULL,
    CD_VL VARCHAR2(200) NOT NULL,
    CD_NM VARCHAR2(200) NOT NULL,
    CD_VL_NM VARCHAR2(200) NOT NULL,
    ARRY_ORD_VL NUMBER(10,0) NOT NULL,
    CD_EXPL_CONT VARCHAR2(4000) NULL,
    CRTN_DT DATE   NOT NULL
   )
;

ALTER TABLE CNCR_CODE_META ADD CONSTRAINT CNCR_CODE_META_PK PRIMARY KEY (HOSP_CD, CD_CLCD, CD_ID, CD_VL) ;


COMMENT ON TABLE CNCR_CODE_META IS '암_코드_메타';

COMMENT ON COLUMN CNCR_CODE_META.HOSP_CD      IS '병원코드';
COMMENT ON COLUMN CNCR_CODE_META.CD_CLCD      IS '코드분류코드';
COMMENT ON COLUMN CNCR_CODE_META.CD_ID        IS '코드ID';
COMMENT ON COLUMN CNCR_CODE_META.CD_VL        IS '코드값';
COMMENT ON COLUMN CNCR_CODE_META.CD_NM        IS '코드명';
COMMENT ON COLUMN CNCR_CODE_META.CD_VL_NM     IS '코드값명';
COMMENT ON COLUMN CNCR_CODE_META.ARRY_ORD_VL  IS '정렬순서값';
COMMENT ON COLUMN CNCR_CODE_META.CD_EXPL_CONT IS '코드설명내용';
COMMENT ON COLUMN CNCR_CODE_META.CRTN_DT      IS '생성일시';

CREATE TABLE CNCR_TBL_SMRY_STATS(			
SMRY_STATS_NO 	VARCHAR2(10)		,
HOSP_CD	VARCHAR2(20)		,
CRIT_YR	VARCHAR2(4)		,
SMRY_STATS_NM	VARCHAR2(1000)		,
TBL_ID	VARCHAR2(20)		,
COL_ID	VARCHAR2(20)		,
PT_AGE	NUMBER(4,0)		,
PT_SEX_CD	VARCHAR2(20)		,
STATS_TRGT_VL	VARCHAR2(4000)		,
NCS	NUMBER(20,0)		,
WHOL_NCS	NUMBER(20,0)		,
PT_CNT	NUMBER(20,0)		,
WHOL_PT_CNT	NUMBER(20,0)		,
STATS_WORK_YMD	VARCHAR2(8)		,
COLL_STRT_YMD	VARCHAR2(8)		,
COLL_END_YMD	VARCHAR2(8)		,
CRTN_DT	TIMESTAMP,
CONSTRAINT CNCR_TBL_SMRY_STATS_PK PRIMARY KEY (SMRY_STATS_NO, HOSP_CD, CRIT_YR, PT_AGE, PT_SEX_CD,STATS_TRGT_VL)	
);			
ALTER TABLE CNCR_TBL_SMRY_STATS	MODIFY (SMRY_STATS_NO NOT NULL)		
ALTER TABLE CNCR_TBL_SMRY_STATS	MODIFY (HOSP_CD NOT NULL)		
ALTER TABLE CNCR_TBL_SMRY_STATS	MODIFY (CRIT_YR NOT NULL)		
ALTER TABLE CNCR_TBL_SMRY_STATS	MODIFY (SMRY_STATS_NM NOT NULL)		
ALTER TABLE CNCR_TBL_SMRY_STATS	MODIFY (TBL_ID NOT NULL)		
ALTER TABLE CNCR_TBL_SMRY_STATS	MODIFY (COL_ID NOT NULL)		
ALTER TABLE CNCR_TBL_SMRY_STATS	MODIFY (STATS_WORK_YMD NOT NULL)		
ALTER TABLE CNCR_TBL_SMRY_STATS	MODIFY (COLL_STRT_YMD NOT NULL)		
ALTER TABLE CNCR_TBL_SMRY_STATS	MODIFY (COLL_END_YMD NOT NULL)		
ALTER TABLE CNCR_TBL_SMRY_STATS	MODIFY (CRTN_DT NOT NULL)		
